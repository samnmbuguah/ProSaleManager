06:37:15 PM [express] serving on port 5000
Database migrations completed successfully

 ERROR(TypeScript)  No overload matches this call.
  Overload 1 of 2, '(value: { buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<...> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ name: string; sku: string; category: string; stock: number; min_stock: number | undefined; max_stock: number | undefined; reorder_point: number | undefined; stock_unit: "per_piece" | "three_piece" | "dozen"; default_unit_pricing_id: null; }' is not assignable to parameter of type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }'.
      Type '{ name: string; sku: string; category: string; stock: number; min_stock: number | undefined; max_stock: number | undefined; reorder_point: number | undefined; stock_unit: "per_piece" | "three_piece" | "dozen"; default_unit_pricing_id: null; }' is missing the following properties from type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }': buying_price, selling_price
  Overload 2 of 2, '(values: { buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<...> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'name' does not exist in type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }[]'.
 FILE  /home/runner/ProSaleManager/server/routes/products.ts:54:10

    52 |       // Create the product first
    53 |       const [newProduct] = await tx.insert(products)
  > 54 |         .values({
       |          ^^^^^^
    55 |           name: productData.name,
    56 |           sku: productData.sku,
    57 |           category: productData.category,

 ERROR(TypeScript)  Property 'toString' does not exist on type 'never'.
 FILE  /home/runner/ProSaleManager/server/routes/products.ts:212:29

    210 |       const buyingPrice = typeof unit.buying_price === 'string' 
    211 |         ? unit.buying_price 
  > 212 |         : unit.buying_price.toString();
        |                             ^^^^^^^^
    213 |       const sellingPrice = typeof unit.selling_price === 'string'
    214 |         ? unit.selling_price
    215 |         : unit.selling_price.toString();

 ERROR(TypeScript)  Property 'toString' does not exist on type 'never'.
 FILE  /home/runner/ProSaleManager/server/routes/products.ts:215:30

    213 |       const sellingPrice = typeof unit.selling_price === 'string'
    214 |         ? unit.selling_price
  > 215 |         : unit.selling_price.toString();
        |                              ^^^^^^^^
    216 |
    217 |       return {
    218 |         unit_type: unit.unit_type,

 ERROR(TypeScript)  No overload matches this call.
  Overload 1 of 2, '(value: { buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<...> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ name: string; sku: string; category: string; stock: number; min_stock: number; max_stock: number; reorder_point: number; stock_unit: "per_piece" | "three_piece" | "dozen"; default_unit_pricing_id: null; }' is not assignable to parameter of type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }'.
      Type '{ name: string; sku: string; category: string; stock: number; min_stock: number; max_stock: number; reorder_point: number; stock_unit: "per_piece" | "three_piece" | "dozen"; default_unit_pricing_id: null; }' is missing the following properties from type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }': buying_price, selling_price
  Overload 2 of 2, '(values: { buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<...> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'name' does not exist in type '{ buying_price: string | SQL<unknown> | Placeholder<string, any>; selling_price: string | SQL<unknown> | Placeholder<string, any>; name: string | SQL<unknown> | Placeholder<...>; ... 9 more ...; default_unit_pricing_id?: number | ... 3 more ... | undefined; }[]'.
 FILE  /home/runner/ProSaleManager/server/routes/seed.ts:47:12

    45 |         // Step 1: Create product without default unit pricing ID
    46 |         const [newProduct] = await tx.insert(products)
  > 47 |           .values({
       |            ^^^^^^
    48 |             name: productDetails.name,
    49 |             sku: productDetails.sku || generateSKU(productDetails.name),
    50 |             category: productDetails.category,

[TypeScript] Found 4 errors. Watching for file changes.
06:37:50 PM [express] GET /api/suppliers 304 in 379ms :: [{"id":1,"name":"Samuel Mbugua Nyambura","em…
06:37:50 PM [express] GET /api/products 304 in 844ms :: [{"id":35,"name":"Classic White T-Shirt","sto…
06:37:50 PM [express] GET /api/product-suppliers 304 in 427ms :: []
06:37:50 PM [express] GET /api/purchase-orders 304 in 429ms :: []
Add demo data error: error: invalid input value for enum sku_type: "kg"
    at /home/runner/ProSaleManager/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at <anonymous> (/home/runner/ProSaleManager/node_modules/src/node-postgres/session.ts:104:19)
    at <anonymous> (/home/runner/ProSaleManager/server/routes.ts:904:32) {
  length: 131,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $10 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'enum.c',
  line: '129',
  routine: 'enum_in'
}
06:37:54 PM [express] POST /api/seed-demo-data 500 in 596ms :: {"error":"Failed to add demo data"}
06:38:20 PM [express] GET /api/product-suppliers 304 in 170ms :: []
06:38:20 PM [express] GET /api/purchase-orders 304 in 174ms :: []
06:38:20 PM [express] GET /api/products 200 in 174ms :: []
06:38:20 PM [express] GET /api/suppliers 304 in 172ms :: [{"id":1,"name":"Samuel Mbugua Nyambura","em…
